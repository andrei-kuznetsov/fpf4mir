import ru.spbstu.icc.kspt.kuznetsov.fpf4mir.core.facts.*;
import ru.spbstu.icc.kspt.kuznetsov.fpf4mir.core.requestfacts.*;

query "RequestStatus for request"  (RequestFact r)
    status : RequestStatus(request == r)
end

query "RequestStatus for request refId"  (long reqRefId)
	//$r : RequestFact(refId == reqRefId)
    status : RequestStatus(request.refId == reqRefId)
    substatus : java.util.LinkedList(  ) from collect ( RequestSubstatus(mainStatus == status) )
end
